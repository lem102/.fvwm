DestroyFunc StartFunction
AddToFunc StartFunction
+ I Module FvwmButtons

DefaultFont "xft:DejaVu Sans:bold:size=8:antialias=True"

ImagePath $HOME/.fvwm:+

# SelectWindow(shouldWarp: boolean)
AddToFunc SelectWindow
+ I Focus
+ I Iconify false
+ I Raise
+ I Test ($0) WarpToWindow 0 0

DestroyFunc EmacsRofi
AddToFunc EmacsRofi
+ I Next ("*Emacs*") SelectWindow false
+ I Next ("*Emacs*") Exec exec emacsclient --eval "(jacob-rofi)"
+ I None ("*Emacs*") Exec exec emacs

DestroyFunc WindowListFunc
AddToFunc WindowListFunc
+ I FlipFocus
+ I Raise
+ I Iconify "off"

DestroyFunc LeftClickTitleBehaviour
AddToFunc LeftClickTitleBehaviour
+ M Move
+ D Maximize
+ I Raise

DestroyFunc LeftClickIconBehaviour
AddToFunc LeftClickIconBehaviour
+ M Move
+ D Iconify "off"

DestroyFunc Screenshot
AddToFunc Screenshot
+ I Exec exec "$[FVWM_USERDIR]/screenshot"

DestroyFunc Record
AddToFunc Record
+ I Exec exec simplescreenrecorder

DestroyFunc FocusAndRaise
AddToFunc FocusAndRaise
+ I Focus
+ I Raise
+ I Iconify "off"

# ResizeMove frame means we include the frame of each window in the percentages given to Resize

DestroyFunc MoveWindowLeftSide
AddToFunc MoveWindowLeftSide
+ I ResizeMove frame 50wa 100wa 0 0
+ I SelectWindow True

DestroyFunc MoveWindowRightSide
AddToFunc MoveWindowRightSide
+ I ResizeMove frame 50wa 100wa 50 0
+ I SelectWindow True

FocusStyle * SortWindowListByFocus
Style * ClickToFocus, ClickToFocusPassesClickOff

AddButtonStyle 1 Vector 5 25x25@3 75x25@3 75x75@3 25x75@3 25x25@3
AddButtonStyle 3 Active Vector 4 30x50@3 70x70@3 70x30@3 30x50@3
AddButtonStyle 5 Active Vector 4 70x50@3 30x70@3 30x30@3 70x50@3

AddButtonStyle 2 Vector 4 25x25@3 75x75@3 25x75@4 75x25@3
AddButtonStyle 4 Vector 2 25x50@3 75x50@3

Style FvwmButtons !Title, !Borders, !Handles, Sticky, NeverFocus, WindowListSkip

EwmhBaseStruts 0 0 0 30

Colorset 0 fg Contrast, \
           bg grey40, \
           hi #dd5500, \
           sh #000000

Colorset 1 fg Contrast, \
           bg grey20, \
           hi #552200, \
           sh #000000

Mouse 1 2 A Close
Mouse 1 4 A Iconify

Mouse 1 1 A Maximize
Mouse 1 3 A MoveWindowLeftSide
Mouse 1 5 A MoveWindowRightSide

Mouse 1 T A LeftClickTitleBehaviour

Mouse 1 I A LeftClickIconBehaviour

Mouse 1 R A EmacsRofi
Mouse 3 R A Menu StartMenu

Key Print A N Screenshot
Key Print A M Record
Key Tab A M WindowList Root c c NoDeskSort, SelectOnRelease Meta_L, CurrentAtEnd, NoGeometry, IconifiedAtEnd

Key Super_L A A EmacsRofi

DestroyModuleConfig FvwmButtons:*
*FvwmButtons: Geometry $[vp.width]x30+0-0
*FvwmButtons: Columns 100
*FvwmButtons: Colorset 0

*FvwmButtons: (5x1, \
              Title Start, \
              Action (Mouse 1) Menu StartMenu, \
              Font "xft:DejaVu Sans:bold:size=8:antialias=True")

*FvwmButtons: (75x1, \
              Frame 0, \
              Swallow FvwmIconMan 'Module FvwmIconMan')

*FvwmButtons: (10x1, \
              Swallow(NoClose,UseOld) stalonetray)

*FvwmButtons: (10x1, \
              Swallow DateTime 'Module FvwmScript FvwmScript-DateTime')

DestroyModuleConfig FvwmIconMan:*
*FvwmIconMan: ManagerGeometry 1x1
*FvwmIconMan: ButtonGeometry 120x30
*FvwmIconMan: Font "xft:DejaVu Sans:bold:size=8:antialias=True"
*FvwmIconMan: Action Mouse 1 A sendcommand FocusAndRaise
*FvwmIconMan: Action Mouse 2 A sendcommand Nop
*FvwmIconMan: Action Mouse 3 A sendcommand Nop
*FvwmIconMan: DrawIcons true
*FvwmIconMan: Colorset 0
*FvwmIconMan: FocusColorset 1

DestroyModuleConfig FvwmScript:*
*FvwmScript: DefaultColorset 0
