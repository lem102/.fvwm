DestroyFunc StartFunction
AddToFunc StartFunction
+ I Module FvwmButtons

DefaultFont "xft:DejaVu Sans:bold:size=8:antialias=True"

ImagePath $HOME/.fvwm:+

DestroyFunc WindowListFunc
AddToFunc WindowListFunc
+ I FlipFocus
+ I Raise
+ I Iconify "off"

DestroyFunc LeftClickTitleBehaviour
AddToFunc LeftClickTitleBehaviour
+ M Move
+ C Maximize
+ I Raise

DestroyFunc Screenshot
AddToFunc Screenshot
+ I Exec exec "$[FVWM_USERDIR]/screenshot"

DestroyFunc Record
AddToFunc Record
+ I Exec exec simplescreenrecorder

AddToMenu MainMenu
+ "Restart Fvwm (&r)" Restart
+ "Rofi (&x)" Rofi
+ "Maximise (&m)" MaximizeAndRaise
+ "Autotile (&a)" FvwmRearrange
+ "Cascade (&c)" AutoCascade
+ "System (&u)" Popup SystemMenu

AddToMenu SystemMenu
+ "Restart (&r)" Exec exec systemctl reboot
+ "Shut Down (&u)" Exec exec systemctl poweroff
+ "Sleep (&s)" Exec exec systemctl suspend
+ "Logout (&l)" Exec exec loginctl kill-user `whoami`

DestroyFunc Rofi
AddToFunc Rofi
+ I Exec exec rofi -config $[FVWM_USERDIR]/config.rasi -show combi

DestroyFunc MaximizeAndRaise
AddToFunc MaximizeAndRaise
+ I Maximize
+ I Raise

DestroyFunc AutoCascade
AddToFunc AutoCascade
+ I FvwmRearrange -cascade -noraise -flatx -flaty -incx 5 -incy 5 -cascadew 50 -cascadeh 50

DestroyFunc FocusAndRaise
AddToFunc FocusAndRaise
+ I Focus
+ I Raise

FocusStyle * SortWindowListByFocus
Style * ClickToFocus, ClickToFocusPassesClickOff

AddButtonStyle 2 Vector 4 35x35@3 65x65@3 35x65@4 65x35@3

Style FvwmButtons !Title, !Borders, !Handles, Sticky, NeverFocus, WindowListSkip

EwmhBaseStruts 0 0 0 30

Colorset 0 fg Contrast, \
           bg grey40, \
           hi #dd5500, \
           sh #000000

Colorset 1 fg Contrast, \
           bg grey20, \
           hi #552200, \
           sh #000000

Mouse 1 2 A Close
Mouse 1 T A LeftClickTitleBehaviour
Mouse 1 R A Rofi
Mouse 3 R A Menu MainMenu

Key Print A N Screenshot
Key Print A M Record
Key Tab A M WindowList Root c c NoDeskSort, SelectOnRelease Meta_L, CurrentAtEnd, NoGeometry

Key Super_L A A Menu MainMenu

DestroyModuleConfig FvwmButtons:*
*FvwmButtons: Geometry 1920x30+0-0
*FvwmButtons: Columns 100
*FvwmButtons: Colorset 0

*FvwmButtons: (5x1, \
              Title Start, \
              Action (Mouse 1) Menu MainMenu, \
              Font "xft:DejaVu Sans:bold:size=8:antialias=True")

*FvwmButtons: (75x1, \
              Frame 0, \
              Swallow FvwmIconMan 'Module FvwmIconMan')

*FvwmButtons: (10x1, \
              Swallow(NoClose,UseOld) stalonetray)

*FvwmButtons: (10x1, \
              Swallow DateTime 'Module FvwmScript FvwmScript-DateTime')

DestroyModuleConfig FvwmIconMan:*
*FvwmIconMan: ManagerGeometry 1x1
*FvwmIconMan: ButtonGeometry 120x30
*FvwmIconMan: Font "xft:DejaVu Sans:bold:size=8:antialias=True"
*FvwmIconMan: Action Mouse 1 A sendcommand FocusAndRaise
*FvwmIconMan: Action Mouse 2 A sendcommand Nop
*FvwmIconMan: Action Mouse 3 A sendcommand Nop
*FvwmIconMan: DrawIcons true
*FvwmIconMan: Colorset 0
*FvwmIconMan: FocusColorset 1

DestroyModuleConfig FvwmScript:*
*FvwmScript: DefaultColorset 0
